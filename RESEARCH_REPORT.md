# ğŸ”¬ NICE POS ë¦¬ì„œì¹˜ ë³´ê³ ì„œ

> **ì‘ì„±ì¼**: 2026-02-11  
> **ëª©ì **: ì‹¤ì œ í”„ë¡œì íŠ¸ ì ìš©ì„ ìœ„í•œ NICE POS ì‹¬ì¸µ ë¦¬ì„œì¹˜  
> **ëŒ€ìƒ**: ë‚˜ì´ìŠ¤í˜ì´ë¨¼ì¸ (NicePay) ê²°ì œ API ì—°ë™

---

## ğŸ“‹ ëª©ì°¨

1. [ë‚˜ì´ìŠ¤í˜ì´ ê³µì‹ API ë¦¬ì„œì¹˜](#1-ë‚˜ì´ìŠ¤í˜ì´-ê³µì‹-api-ë¦¬ì„œì¹˜)
2. [í”„ë¡œì íŠ¸ ì ìš©ì„ ìœ„í•œ í•„ìˆ˜ ì‘ì—…](#2-í”„ë¡œì íŠ¸-ì ìš©ì„-ìœ„í•œ-í•„ìˆ˜-ì‘ì—…)
3. [ë‹¹ì‹ ì´ ë´ì•¼ í•  ìë£Œ (ìˆ™ì§€ ì‚¬í•­)](#3-ë‹¹ì‹ ì´-ë´ì•¼-í• -ìë£Œ-ìˆ™ì§€-ì‚¬í•­)
4. [ì‹¤ì œ êµ¬í˜„ ë¡œë“œë§µ](#4-ì‹¤ì œ-êµ¬í˜„-ë¡œë“œë§µ)

---

## 1. ë‚˜ì´ìŠ¤í˜ì´ ê³µì‹ API ë¦¬ì„œì¹˜

### 1.1 ë‚˜ì´ìŠ¤í˜ì´ ê²°ì œ íë¦„ (Server ìŠ¹ì¸ ëª¨ë¸) â­ ê°€ì¥ ì¤‘ìš”

ë‚˜ì´ìŠ¤í˜ì´ëŠ” **Server ìŠ¹ì¸ ëª¨ë¸**ê³¼ **Client ìŠ¹ì¸ ëª¨ë¸** 2ê°€ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.  
ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ëŠ” **Server ìŠ¹ì¸ ëª¨ë¸**ì´ ì í•©í•©ë‹ˆë‹¤ (ë³´ì•ˆìƒ ê¶Œì¥).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê²°ì œì   â”‚     â”‚  í”„ë¡ íŠ¸ì—”ë“œ   â”‚     â”‚ ê°€ë§¹ì  ì„œë²„      â”‚     â”‚ ë‚˜ì´ìŠ¤í˜ì´ â”‚
â”‚ (ë¸Œë¼ìš°ì €)â”‚     â”‚ (Next.js)    â”‚     â”‚ (API Routes)    â”‚     â”‚   API    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚ 1. ê²°ì œ ìš”ì²­      â”‚                      â”‚                    â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚                    â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚ 2. AUTHNICE.requestPay()                â”‚                    â”‚
     â”‚  (JS SDK ê²°ì œì°½ í˜¸ì¶œ)                    â”‚                    â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚                    â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚ 3. ì¹´ë“œì‚¬ ì¸ì¦ ì§„í–‰â”‚                      â”‚                    â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚ 4. ì¸ì¦ ê²°ê³¼ POST â”‚ (returnUrlë¡œ ì „ë‹¬)   â”‚                    â”‚
     â”‚                  â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                  â”‚                      â”‚  tid, authResult   â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚                  â”‚  5. ìœ„ë³€ì¡° ê²€ì¦       â”‚                    â”‚
     â”‚                  â”‚  (signature ì²´í¬)     â”‚                    â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚                  â”‚  6. ìŠ¹ì¸ API í˜¸ì¶œ      â”‚                    â”‚
     â”‚                  â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                  â”‚                      â”‚ POST /v1/payments/  â”‚
     â”‚                  â”‚                      â”‚    {tid}            â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚                  â”‚  7. ìŠ¹ì¸ ê²°ê³¼         â”‚                    â”‚
     â”‚                  â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                  â”‚                      â”‚                    â”‚
     â”‚ 8. ê²°ê³¼ í‘œì‹œ      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚                    â”‚
```

### 1.2 í•µì‹¬ API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

ë‚˜ì´ìŠ¤í˜ì´ ê³µì‹ REST APIì˜ ì „ì²´ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ì…ë‹ˆë‹¤.

| API | Method | Endpoint | ì„¤ëª… |
|-----|--------|----------|------|
| **AccessToken ë°œê¸‰** | `POST` | `/v1/access-token` | Bearer Token ì¸ì¦ ì‹œ ì‚¬ìš© |
| **ê²°ì œì°½ ìŠ¹ì¸** | `POST` | `/v1/payments/{tid}` | ê²°ì œ(ìŠ¹ì¸) ìš”ì²­ â­ |
| **ì·¨ì†Œ ìš”ì²­** | `POST` | `/v1/payments/{tid}/cancel` | ê²°ì œ ì·¨ì†Œ/í™˜ë¶ˆ â­ |
| **ê±°ë˜ì¡°íšŒ (tid)** | `GET` | `/v1/payments/{tid}` | tidë¡œ ê±°ë˜ ì¡°íšŒ â­ |
| **ê±°ë˜ì¡°íšŒ (orderId)** | `GET` | `/v1/payments/find/{orderId}` | ì£¼ë¬¸ë²ˆí˜¸ë¡œ ê±°ë˜ ì¡°íšŒ |
| **ë¹Œí‚¤ ë°œê¸‰** | `POST` | `/v1/subscribe/regist` | ì •ê¸°ê²°ì œìš© ë¹Œí‚¤ ë°œê¸‰ |
| **ë¹Œí‚¤ ìŠ¹ì¸** | `POST` | `/v1/subscribe/{bid}/payments` | ë¹Œí‚¤ ê¸°ë°˜ ê²°ì œ ìŠ¹ì¸ |
| **ë¹Œí‚¤ ì‚­ì œ** | `POST` | `/v1/subscribe/{bid}/expire` | ë¹Œí‚¤ ë§Œë£Œ ì²˜ë¦¬ |
| **ì•½ê´€ ì¡°íšŒ** | `GET` | `/v1/terms` | ì•½ê´€ ì¡°íšŒ |
| **í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰** | `POST` | `/v1/receipt/` | í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ â­ |
| **í˜„ê¸ˆì˜ìˆ˜ì¦ ì·¨ì†Œ** | `POST` | `/v1/receipt/{tid}/cancel` | í˜„ê¸ˆì˜ìˆ˜ì¦ ì·¨ì†Œ |
| **í˜„ê¸ˆì˜ìˆ˜ì¦ ì¡°íšŒ** | `GET` | `/v1/receipt/{tid}` | í˜„ê¸ˆì˜ìˆ˜ì¦ ì¡°íšŒ |
| **ì¹´ë“œ ì´ë²¤íŠ¸ ì¡°íšŒ** | `GET` | `/v1/card/event` | ì¹´ë“œ ì´ë²¤íŠ¸ ì¡°íšŒ |
| **ì¹´ë“œ ë¬´ì´ì ì¡°íšŒ** | `GET` | `/v1/card/interest-free` | ë¬´ì´ì í• ë¶€ ì •ë³´ |
| **ìŠ¹ì¸ê¸ˆì•¡ ê²€ì¦** | `POST` | `/v1/check-amount/{tid}` | Client ìŠ¹ì¸ ëª¨ë¸ ì „ìš© |
| **ë§ì·¨ì†Œ** | `POST` | `/v1/payments/netcancel` | ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ì·¨ì†Œ â­ |

#### ë„ë©”ì¸ ì •ë³´

| í™˜ê²½ | JS SDK | API |
|------|--------|-----|
| **ìƒŒë“œë°•ìŠ¤ (í…ŒìŠ¤íŠ¸)** | `https://pay.nicepay.co.kr/v1/js/` | `https://sandbox-api.nicepay.co.kr` |
| **ìš´ì˜ê³„ (í”„ë¡œë•ì…˜)** | `https://pay.nicepay.co.kr/v1/js/` | `https://api.nicepay.co.kr` |

> âš ï¸ **JS SDK ë„ë©”ì¸ì€ ë™ì¼**í•˜ë‚˜, **API ë„ë©”ì¸ì€ í™˜ê²½ë³„ë¡œ ë‹¤ë¦„**

### 1.3 ì¸ì¦ ë°©ì‹

#### Basic Auth (ê¶Œì¥)

```
Authorization: Basic <credentials>

credentials = Base64(clientKey + ":" + secretKey)
```

**ì˜ˆì‹œ:**
```javascript
const clientKey = 'S2_af4543a0be4d49a98122e01ec2059a56';
const secretKey = '9eb85607103646da9f9c02b128f2e5ee';

const credentials = Buffer.from(`${clientKey}:${secretKey}`).toString('base64');
// ê²°ê³¼: 'UzJfYWY0NTQzYTBiZTRkNDlhOTgxMjJlMDFlYzIwNTlhNTY6OWViODU2MDcxMDM2NDZkYTlmOWMwMmIxMjhmMmU1ZWU='

// API í˜¸ì¶œ ì‹œ
headers: {
  'Authorization': `Basic ${credentials}`,
  'Content-Type': 'application/json'
}
```

#### Bearer Token (ì„ íƒ)
- AccessTokenì„ ë¨¼ì € ë°œê¸‰ë°›ì€ í›„ API í˜¸ì¶œ
- í† í° ë§Œë£Œ ê´€ë¦¬ê°€ í•„ìš”í•˜ë¯€ë¡œ Basic Authë³´ë‹¤ ë³µì¡

### 1.4 ê²°ì œì°½ í˜¸ì¶œ (JS SDK)

```html
<script src="https://pay.nicepay.co.kr/v1/js/"></script>
<script>
function serverAuth() {
  AUTHNICE.requestPay({
    clientId: 'S2_af4543a0be4d49a98122e01ec2059a56',  // í´ë¼ì´ì–¸íŠ¸ í‚¤
    method: 'card',                                      // ê²°ì œìˆ˜ë‹¨
    orderId: 'ìœ ë‹ˆí¬í•œ-ì£¼ë¬¸ë²ˆí˜¸',                          // ì£¼ë¬¸ë²ˆí˜¸ (unique)
    amount: 1004,                                        // ê²°ì œê¸ˆì•¡
    goodsName: 'ë‚˜ì´ìŠ¤í˜ì´-ìƒí’ˆ',                          // ìƒí’ˆëª…
    returnUrl: 'http://localhost:3000/serverAuth',        // ì¸ì¦ ê²°ê³¼ ìˆ˜ì‹  URL
    fnError: function (result) {
      alert('ê°œë°œìí™•ì¸ìš© : ' + result.errorMsg + '');
    }
  });
}
</script>
```

#### JS SDK method íŒŒë¼ë¯¸í„° (ì£¼ìš”)

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `clientId` | String | O | í´ë¼ì´ì–¸íŠ¸ í‚¤ |
| `method` | String | O | ê²°ì œìˆ˜ë‹¨ (`card`, `vbank`, `cellphone`, `kakaopay`, `payco`, `samsungpay`, `naverpay` ë“±) |
| `orderId` | String | O | ê°€ë§¹ì  ì£¼ë¬¸ë²ˆí˜¸ (Unique) |
| `amount` | Number | O | ê²°ì œê¸ˆì•¡ |
| `goodsName` | String | O | ìƒí’ˆëª… (40byte ì´ë‚´) |
| `returnUrl` | String | O | ì¸ì¦ ê²°ê³¼ ìˆ˜ì‹  URL (Server ìŠ¹ì¸ ëª¨ë¸) |
| `mallUserId` | String | | ê°€ë§¹ì  ì‚¬ìš©ì ID |
| `buyerName` | String | | êµ¬ë§¤ì ì´ë¦„ |
| `buyerTel` | String | | êµ¬ë§¤ì ì „í™”ë²ˆí˜¸ |
| `buyerEmail` | String | | êµ¬ë§¤ì ì´ë©”ì¼ |

### 1.5 ìŠ¹ì¸ API í˜¸ì¶œ

ê²°ì œì°½ì—ì„œ ì¹´ë“œì‚¬ ì¸ì¦ì´ ì™„ë£Œë˜ë©´, `returnUrl`ë¡œ ì¸ì¦ ê²°ê³¼ê°€ POSTë©ë‹ˆë‹¤.

#### ì¸ì¦ ê²°ê³¼ ì‘ë‹µ (returnUrlë¡œ ìˆ˜ì‹ )

```json
{
  "authResultCode": "0000",           // "0000"ì´ë©´ ì¸ì¦ ì„±ê³µ
  "authResultMsg": "ì¸ì¦ ì„±ê³µ",
  "tid": "UT0000113m01012111051714341073",  // â­ ê±°ë˜ í‚¤ (ìŠ¹ì¸ APIì— ì „ë‹¬)
  "clientId": "S2_af4543a0be4d49a98122e01ec2059a56",
  "orderId": "c74a5960-830b-4cd8-82a9-fa1ce739a18f",
  "amount": "1004",
  "authToken": "NICEUNTTB06...",
  "signature": "99ea68bf15..."        // â­ ìœ„ë³€ì¡° ê²€ì¦ê°’
}
```

#### ìŠ¹ì¸ API í˜¸ì¶œ

```bash
POST /v1/payments/{tid}
Host: api.nicepay.co.kr
Authorization: Basic <credentials>
Content-Type: application/json

{
  "amount": 1004
}
```

#### ìŠ¹ì¸ API ìš”ì²­ ëª…ì„¸

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|---------|------|------|------|
| `amount` | Integer | O | ê²°ì œê¸ˆì•¡ |
| `ediDate` | String | | ì „ë¬¸ìƒì„±ì¼ì‹œ (ISO 8601) |
| `signData` | String | | ìœ„ë³€ì¡° ê²€ì¦ Data (`hex(sha256(tid + amount + ediDate + SecretKey))`) |

#### ìŠ¹ì¸ API ì‘ë‹µ ì˜ˆì‹œ

```json
{
  "resultCode": "0000",
  "resultMsg": "ì •ìƒ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "tid": "UT0000113m01012111051714341073",
  "orderId": "c74a5960-830b-4cd8-82a9-fa1ce739a18f",
  "status": "paid",
  "paidAt": "2021-11-05T17:14:35.000+0900",
  "amount": 1004,
  "balanceAmt": 1004,
  "goodsName": "ë‚˜ì´ìŠ¤í˜ì´-ìƒí’ˆ",
  "payMethod": "card",
  "currency": "KRW",
  "approveNo": "000000",
  "receiptUrl": "https://npg.nicepay.co.kr/issue/...",
  "card": {
    "cardCode": "04",
    "cardName": "ì‚¼ì„±",
    "cardNum": "123412******1234",
    "cardQuota": 0,
    "isInterestFree": false,
    "cardType": "credit",
    "canPartCancel": true,
    "acquCardCode": "04",
    "acquCardName": "ì‚¼ì„±"
  }
}
```

### 1.6 ì·¨ì†ŒÂ·í™˜ë¶ˆ API

```bash
POST /v1/payments/{tid}/cancel
Host: api.nicepay.co.kr
Authorization: Basic <credentials>
Content-Type: application/json

{
  "reason": "ê³ ê° ìš”ì²­",
  "orderId": "merchant-order-id",
  "cancelAmt": 1004          // ë¶€ë¶„ì·¨ì†Œ ì‹œ ì‚¬ìš©, ë¯¸ì…ë ¥ ì‹œ ì „ì•¡ì·¨ì†Œ
}
```

#### ê²°ì œìˆ˜ë‹¨ë³„ ì·¨ì†Œ/í™˜ë¶ˆ ê°€ëŠ¥ ì—¬ë¶€

| ê²°ì œìˆ˜ë‹¨ | ì „ì²´ì·¨ì†Œ | ë¶€ë¶„ì·¨ì†Œ | ì „ì²´í™˜ë¶ˆ | ë¶€ë¶„í™˜ë¶ˆ | ì·¨ì†Œ ê°€ëŠ¥ ê¸°ê°„ |
|---------|---------|---------|---------|---------|--------------|
| ì¹´ë“œê²°ì œ | O | O | | | 1ë…„ ë‚´ |
| ê°€ìƒê³„ì¢Œ (ë°œê¸‰ í›„) | O | | | | ì…ê¸ˆ ë§Œë£Œ ì „ |
| ê°€ìƒê³„ì¢Œ (ì…ê¸ˆ í›„) | | | O | O | 180ì¼ |
| í˜„ê¸ˆì˜ìˆ˜ì¦ | O | O | | | ë°œê¸‰ ë‹¹í•´ ë…„ë„ |

### 1.7 ë§ì·¨ì†Œ (Net Cancel) â­ ë§¤ìš° ì¤‘ìš”

> ê²°ì œ ìŠ¹ì¸ API í˜¸ì¶œ ì‹œ **ë„¤íŠ¸ì›Œí¬ ì¥ì• ë¡œ ì‘ë‹µì„ ë°›ì§€ ëª»í•œ ê²½ìš°** ë°˜ë“œì‹œ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.

```bash
POST /v1/payments/netcancel
Host: api.nicepay.co.kr
Authorization: Basic <credentials>
Content-Type: application/json

{
  "orderId": "ìœ ë‹ˆí¬í•œ-ì£¼ë¬¸ë²ˆí˜¸"
}
```

- ë§ì·¨ì†Œ ìœ íš¨ê¸°ê°„: **1ì‹œê°„**
- ìŠ¹ì¸ ìš”ì²­ ë° ì‘ë‹µ ìˆ˜ì‹ ì— ì‹¤íŒ¨í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©
- ì¼ë°˜ì ì¸ ì·¨ì†ŒëŠ” `/v1/payments/{tid}/cancel` ì‚¬ìš©

### 1.8 í˜„ê¸ˆì˜ìˆ˜ì¦ API

```bash
POST /v1/receipt/
Host: api.nicepay.co.kr
Authorization: Basic <credentials>
Content-Type: application/json

{
  "orderId": "merchant-order-id",
  "amount": 1000,
  "goodsName": "ë‚˜ì´ìŠ¤ìƒí’ˆ",
  "receiptType": "individual",     // individual(ê°œì¸) / company(ì‚¬ì—…ì)
  "receiptNo": "01012341234",      // íœ´ëŒ€í°ë²ˆí˜¸ ë˜ëŠ” ì‚¬ì—…ìë²ˆí˜¸
  "supplyAmt": 250,               // ê³µê¸‰ê°€ì•¡
  "goodsVat": 250,                // ë¶€ê°€ê°€ì¹˜ì„¸
  "taxFreeAmt": 250,              // ë©´ì„¸ê³µê¸‰ê°€ì•¡
  "serviceAmt": 250               // ë´‰ì‚¬ë£Œ
}
```

> âš ï¸ í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ ìš”ì²­ ì„±ê³µ â†’ ì˜ì—…ì¼ D+1 êµ­ì„¸ì²­ ì „ë‹¬ â†’ D+2 ë°œê¸‰ ì—¬ë¶€ í™•ì¸ ê°€ëŠ¥

### 1.9 ì›¹í›… (Webhook)

ë‚˜ì´ìŠ¤í˜ì´ì—ì„œ ê²°ì œ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ê°€ë§¹ì  ì„œë²„ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

#### ì›¹í›… ë°œì†¡ ì‹œì 
- ğŸ’³ ê²°ì œ(ìŠ¹ì¸) ë˜ì—ˆì„ ë•Œ (ëª¨ë“  ì§€ë¶ˆìˆ˜ë‹¨)
- ê°€ìƒê³„ì¢Œê°€ ë°œê¸‰(ì±„ë²ˆ) ë˜ì—ˆì„ ë•Œ
- ê°€ìƒê³„ì¢Œì— ê²°ì œê¸ˆì•¡ì´ ì…ê¸ˆ ë˜ì—ˆì„ ë•Œ
- ê²°ì œê°€ ì·¨ì†Œ ì²˜ë¦¬ë˜ì—ˆì„ ë•Œ

#### ì›¹í›… ì‘ë‹µ ê·œì¹™
```
HTTP Status: 200
Content-Type: text/html
Response Body: "OK"
```

> âš ï¸ Response bodyì— **"OK" ë¬¸ìì—´ì´ ì—†ìœ¼ë©´ ì‹¤íŒ¨**ë¡œ ì²˜ë¦¬ë¨

---

## 2. í”„ë¡œì íŠ¸ ì ìš©ì„ ìœ„í•œ í•„ìˆ˜ ì‘ì—…

### Phase 1: ğŸ”‘ ê³„ì • ë° í™˜ê²½ ì„¤ì • (1~2ì¼)

- [ ] **ë‚˜ì´ìŠ¤í˜ì´ íšŒì›ê°€ì…**: [ê°€ë§¹ì  ê´€ë¦¬ì](https://merchant.nicepay.co.kr/) ì‚¬ì´íŠ¸ íšŒì›ê°€ì…
- [ ] **í…ŒìŠ¤íŠ¸ ìƒì  ìƒì„±**: ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ í…ŒìŠ¤íŠ¸ ìƒì  ìƒì„±
- [ ] **API KEY ë°œê¸‰**: 
  - `clientId` (í´ë¼ì´ì–¸íŠ¸ í‚¤) - JS SDK ì¸ì¦ìš©
  - `secretKey` (ì‹œí¬ë¦¿ í‚¤) - API ì¸ì¦ìš©
  - ìŠ¹ì¸ëª¨ë¸: **Server ìŠ¹ì¸** ì„ íƒ
  - ì¸ì¦ë°©ì‹: **Basic Auth** ì„ íƒ
- [ ] **ìƒŒë“œë°•ìŠ¤ í…ŒìŠ¤íŠ¸**: ìƒŒë“œë°•ìŠ¤ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ê²°ì œ ì§„í–‰
- [ ] **ë°©í™”ë²½ í™•ì¸**: ë‚˜ì´ìŠ¤í˜ì´ API ë„ë©”ì¸ìœ¼ë¡œì˜ ì•„ì›ƒë°”ìš´ë“œ í†µì‹  í™•ì¸

### Phase 2: ğŸ—ï¸ í•µì‹¬ êµ¬ì¡° ë³€ê²½ (3~5ì¼)

- [ ] **ê²°ì œì°½ ì—°ë™**: JS SDK `AUTHNICE.requestPay()` êµ¬í˜„
  - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²°ì œì°½ í˜¸ì¶œ ë¡œì§ êµ¬í˜„
  - `returnUrl` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (ì¸ì¦ ê²°ê³¼ ìˆ˜ì‹ )
- [ ] **ìŠ¹ì¸ API ì—°ë™**: `POST /v1/payments/{tid}` í˜¸ì¶œ êµ¬í˜„
  - Basic Auth ì¸ì¦ í—¤ë” ìƒì„±
  - ìœ„ë³€ì¡° ê²€ì¦ (`signData`) êµ¬í˜„
- [ ] **ì·¨ì†Œ API ì—°ë™**: `POST /v1/payments/{tid}/cancel` êµ¬í˜„
  - ì „ì²´/ë¶€ë¶„ ì·¨ì†Œ ì§€ì›
- [ ] **ë§ì·¨ì†Œ êµ¬í˜„**: `POST /v1/payments/netcancel`
  - ìŠ¹ì¸ API í˜¸ì¶œ ì‹œ timeout ë°œìƒ ì‹œ ìë™ ë§ì·¨ì†Œ

### Phase 3: ğŸ’¾ ë°ì´í„° ë° ë³´ì•ˆ (3~5ì¼)

- [ ] **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ì—°ë™**
  - ê²°ì œ(transactions) í…Œì´ë¸”
  - ì·¨ì†Œ(cancellations) í…Œì´ë¸”
  - í˜„ê¸ˆì˜ìˆ˜ì¦(cash_receipts) í…Œì´ë¸”
- [ ] **ìœ„ë³€ì¡° ê²€ì¦ ë¡œì§**: SHA-256 í•´ì‹œ ê¸°ë°˜ signature ê²€ì¦
- [ ] **ì›¹í›… ì—”ë“œí¬ì¸íŠ¸**: `/api/webhook/nicepay` êµ¬í˜„
  - ê²°ì œ ìƒíƒœ ë³€ê²½ ìˆ˜ì‹  ë° ì²˜ë¦¬
  - ì‘ë‹µ: `200 OK`, Body: `"OK"`
- [ ] **í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬**:
  ```env
  NICE_CLIENT_ID=R1_xxxxxxxxx        # ìš´ì˜: R1_ ë˜ëŠ” R2_ ì ‘ë‘ì‚¬
  NICE_SECRET_KEY=xxxxxxxxx          # ì‹œí¬ë¦¿í‚¤
  NICE_API_URL=https://api.nicepay.co.kr  # ìš´ì˜: api, í…ŒìŠ¤íŠ¸: sandbox-api
  ```

### Phase 4: âœ¨ ê¸°ëŠ¥ í™•ì¥ (5~7ì¼)

- [ ] **í˜„ê¸ˆì˜ìˆ˜ì¦ API ì—°ë™**: `/v1/receipt/` ì‹¤ì œ êµ¬í˜„
- [ ] **QR ê²°ì œ ì—°ë™**: ì¹´ì¹´ì˜¤í˜ì´, ë„¤ì´ë²„í˜ì´ ë“± ê°„í¸ê²°ì œ ì—°ë™
- [ ] **ë¹Œë§(ì •ê¸°ê²°ì œ)**: ë¹Œí‚¤ ë°œê¸‰/ìŠ¹ì¸/ì‚­ì œ
- [ ] **ê±°ë˜ ì¡°íšŒ API ì—°ë™**: `/v1/payments/{tid}` GET
- [ ] **ê²°ì œ ì˜ìˆ˜ì¦ PDF/í”„ë¦°íŠ¸ ì¶œë ¥**
- [ ] **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: ë§¤ì¶œ í†µê³„, ì •ì‚° ê´€ë¦¬

### Phase 5: ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ë°°í¬ (3~5ì¼)

- [ ] **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: API í´ë¼ì´ì–¸íŠ¸, ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
- [ ] **í†µí•© í…ŒìŠ¤íŠ¸**: ê²°ì œ íë¦„ E2E í…ŒìŠ¤íŠ¸ (ìƒŒë“œë°•ìŠ¤)
- [ ] **ìš´ì˜ ì „í™˜**: 
  - API ë„ë©”ì¸ ë³€ê²½ (`sandbox-api` â†’ `api`)
  - `clientId`, `secretKey` ìš´ì˜í‚¤ë¡œ ë³€ê²½
- [ ] **ì—ëŸ¬ ëª¨ë‹ˆí„°ë§**: Sentry ë“± ì„¤ì •
- [ ] **ë¡œê¹…**: ê²°ì œ ê´€ë ¨ ë¡œê·¸ ì²´ê³„ êµ¬ì¶• (ì¹´ë“œë²ˆí˜¸ ë“± ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹)

---

## 3. ë‹¹ì‹ ì´ ë´ì•¼ í•  ìë£Œ (ìˆ™ì§€ ì‚¬í•­)

### ğŸ“• í•„ë… ìë£Œ (ë°˜ë“œì‹œ ì½ì–´ì•¼ í•  ê²ƒ)

#### 1ï¸âƒ£ ë‚˜ì´ìŠ¤í˜ì´ ê³µì‹ GitHub ë§¤ë‰´ì–¼ â­â­â­â­â­
- **URL**: [https://github.com/nicepayments/nicepay-manual](https://github.com/nicepayments/nicepay-manual)
- **ì½ëŠ” ìˆœì„œ**:
  1. `README.md` - Quick Guide (10ë¶„ ë‚´ TEST ê°œë°œ ê°€ëŠ¥)
  2. `common/preparations.md` - ê°œë°œ ì¤€ë¹„ (íšŒì›ê°€ì…, API KEY í™•ì¸, ë°©í™”ë²½)
  3. `common/api.md` - APIÂ·JS SDK (URI ëª©ë¡, ì¸ì¦ ë°©ì‹)
  4. `common/test.md` - ìƒŒë“œë°•ìŠ¤ TEST ê°€ì´ë“œ
  5. `common/code.md` - ì‘ë‹µì½”ë“œ, ì¹´ë“œì½”ë“œ, ì€í–‰ì½”ë“œ

#### 2ï¸âƒ£ ê²°ì œ API ë¬¸ì„œ â­â­â­â­â­
- `api/payment-window-server.md` - **ê²°ì œì°½ Server ìŠ¹ì¸ ëª¨ë¸** (ê°€ì¥ ì¤‘ìš”!)
- `api/cancel.md` - **ì·¨ì†ŒÂ·í™˜ë¶ˆÂ·ë§ì·¨ì†Œ**
- `api/payment-receipt.md` - **í˜„ê¸ˆì˜ìˆ˜ì¦**
- `api/hook.md` - **ì›¹í›…**

#### 3ï¸âƒ£ Node.js ìƒ˜í”Œ ì½”ë“œ â­â­â­â­
- **URL**: [https://github.com/nicepayments/nicepay-node](https://github.com/nicepayments/nicepay-node)
- Server Auth ëª¨ë¸ì˜ Node.js êµ¬í˜„ ì˜ˆì‹œ
- Express.js ê¸°ë°˜ì´ì§€ë§Œ Next.jsë¡œ ì „í™˜ ê°€ëŠ¥

#### 4ï¸âƒ£ ë‚˜ì´ìŠ¤í˜ì´ ê°œë°œì ì„¼í„° â­â­â­â­
- **URL**: [https://developers.nicepay.co.kr/](https://developers.nicepay.co.kr/)
- ìµœì‹  API ë¬¸ì„œ, SDK, ê°œë°œ ë„êµ¬

### ğŸ“— ì°¸ê³  ìë£Œ (ì•Œë©´ ì¢‹ì€ ê²ƒ)

#### 5ï¸âƒ£ ê°€ë§¹ì  ê´€ë¦¬ì í˜ì´ì§€
- **URL**: [https://merchant.nicepay.co.kr/](https://merchant.nicepay.co.kr/)
- ìƒì  ê´€ë¦¬, KEY ë°œê¸‰, ì›¹í›… ì„¤ì •, ë¡œê·¸ í™•ì¸

#### 6ï¸âƒ£ APP ì—°ë™ ê°€ì´ë“œ (ëª¨ë°”ì¼)
- `api/app-ios.md` - iOS (Swift, Objective-C)
- `api/app-android.md` - Android (Java, Kotlin)
- ì›¹ë·° ê¸°ë°˜ ê²°ì œì°½ ì—°ë™ ê°€ì´ë“œ

#### 7ï¸âƒ£ ë¹Œë§(ì •ê¸°ê²°ì œ) ê°€ì´ë“œ
- `api/payment-subscribe.md` - ë¹Œí‚¤ ë°œê¸‰/ìŠ¹ì¸/ì‚­ì œ
- êµ¬ë… ì„œë¹„ìŠ¤ ë“±ì— í™œìš©

### ğŸ“˜ ìˆ™ì§€í•´ì•¼ í•  í•µì‹¬ ê°œë…

| ê°œë… | ì™œ ì•Œì•„ì•¼ í•˜ë‚˜ | ì–´ë””ì„œ ë³´ë‚˜ |
|------|--------------|------------|
| **Server ìŠ¹ì¸ ëª¨ë¸** | ê²°ì œ íë¦„ì˜ ê¸°ë³¸, ì‹¤ì œë¡œ ì´ ëª¨ë¸ì„ ì‚¬ìš© | `api/payment-window-server.md` |
| **clientId / secretKey** | ëª¨ë“  API í˜¸ì¶œì˜ ì¸ì¦ì— í•„ìš” | `common/api.md` |
| **Basic Auth credentials** | API í˜¸ì¶œ ì‹œ Authorization í—¤ë” ìƒì„± ê·œì¹™ | `common/api.md#basic-auth` |
| **tid (ê±°ë˜ í‚¤)** | ê²°ì œ ìŠ¹ì¸/ì·¨ì†Œ/ì¡°íšŒ ëª¨ë“  ê²ƒì˜ ê¸°ì¤€ì´ ë˜ëŠ” í‚¤ | `api/payment-window-server.md` |
| **signature / signData** | ìœ„ë³€ì¡° ë°©ì§€ë¥¼ ìœ„í•œ í•´ì‹œ ê²€ì¦ | `api/payment-window-server.md` |
| **returnUrl** | ì¸ì¦ ê²°ê³¼ë¥¼ ë°›ì„ ê°€ë§¹ì  ì„œë²„ URL | `api/payment-window-server.md` |
| **ë§ì·¨ì†Œ (Net Cancel)** | ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ê²°ì œ ì •í•©ì„± ìœ ì§€ **í•„ìˆ˜** | `api/cancel.md#ë§ì·¨ì†Œ` |
| **ì›¹í›… (Webhook)** | ê²°ì œ ìƒíƒœ ë³€ê²½ ì‹¤ì‹œê°„ ì•Œë¦¼ ìˆ˜ì‹  | `api/hook.md` |
| **PCI DSS** | ì¹´ë“œ ì •ë³´ ë³´ì•ˆ ê·œì • (ê°€ë§¹ì ì´ ì§ì ‘ ì¹´ë“œë²ˆí˜¸ë¥¼ ì²˜ë¦¬í•˜ë©´ ì•ˆ ë¨) | ì¼ë°˜ ìƒì‹ |

---

## 4. ì‹¤ì œ êµ¬í˜„ ë¡œë“œë§µ

### ğŸ—“ï¸ ì „ì²´ ì¼ì • (ì˜ˆìƒ 3~4ì£¼)

```
Week 1: í™˜ê²½ ì„¤ì • + ê²°ì œì°½ ì—°ë™ (Phase 1 + Phase 2 ì¼ë¶€)
  - Day 1-2: ë‚˜ì´ìŠ¤í˜ì´ íšŒì›ê°€ì…, í‚¤ ë°œê¸‰, ë¬¸ì„œ ìˆ™ì§€
  - Day 3-5: ê²°ì œì°½ JS SDK ì—°ë™ + ìŠ¹ì¸ API êµ¬í˜„

Week 2: í•µì‹¬ API ì—°ë™ ì™„ë£Œ (Phase 2 í›„ë°˜ + Phase 3)
  - Day 1-2: ì·¨ì†Œ/ë§ì·¨ì†Œ êµ¬í˜„
  - Day 3-4: DB ì„¤ê³„ ë° ì—°ë™
  - Day 5: ì›¹í›… êµ¬í˜„

Week 3: ê¸°ëŠ¥ í™•ì¥ (Phase 4)
  - Day 1-2: í˜„ê¸ˆì˜ìˆ˜ì¦ ì‹¤ì œ ì—°ë™
  - Day 3-4: QR/ê°„í¸ê²°ì œ ì—°ë™
  - Day 5: ê´€ë¦¬ ê¸°ëŠ¥ (ê±°ë˜ ì¡°íšŒ, í†µê³„)

Week 4: í…ŒìŠ¤íŠ¸ ë° ë°°í¬ (Phase 5)
  - Day 1-2: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
  - Day 3-4: ìƒŒë“œë°•ìŠ¤ í†µí•© í…ŒìŠ¤íŠ¸
  - Day 5: ìš´ì˜ ì „í™˜ ë° ë°°í¬
```

### âœ… ì¦‰ì‹œ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ì•¡ì…˜

1. **ë‚˜ì´ìŠ¤í˜ì´ GitHub ë§¤ë‰´ì–¼ ì½ê¸°**: [https://github.com/nicepayments/nicepay-manual](https://github.com/nicepayments/nicepay-manual)
2. **ê°€ë§¹ì  ê´€ë¦¬ì íšŒì›ê°€ì…**: [https://merchant.nicepay.co.kr/](https://merchant.nicepay.co.kr/)
3. **í…ŒìŠ¤íŠ¸ ìƒì  ìƒì„± ë° í‚¤ ë°œê¸‰**
4. **ì´ POC í”„ë¡œì íŠ¸ì—ì„œ `lib/nice-api.ts`ë¥¼ ì‹¤ì œ API í˜¸ì¶œë¡œ êµì²´**
